<% layout('admin/layout-admin') %>
<%- include('../partials/header', { title: 'Withdraw Management' }) %>

<main class="container-fluid py-4">
  <div class="row">
    <%- include('sidebar') %>
    <div class="col-md-9 col-lg-10">
      <div class="card bg-dark text-white shadow">
        <div class="card-body">
          <h4><i class="bi bi-cash-coin me-2 text-success"></i> Withdraw Requests</h4>

          <table class="table table-dark table-hover">
            <thead>
              <tr><th>User</th><th>Amount</th><th>Currency</th><th>Status</th><th>Aksi</th></tr>
            </thead>
            <tbody>
              <% (withdraws || []).forEach(w => { %>
                <tr>
                  <td><%= w.user_name %></td>
                  <td><%= w.amount %></td>
                  <td><%= w.currency %></td>
                  <td><%= w.status %></td>
                  <td>
                    <form action="/admin/withdraws/<%= w.id %>/approve" method="POST" class="d-inline">
                      <button class="btn btn-sm btn-success">Approve</button>
                    </form>
                    <form action="/admin/withdraws/<%= w.id %>/reject" method="POST" class="d-inline">
                      <button class="btn btn-sm btn-danger">Reject</button>
                    </form>
                  </td>
                </tr>
              <% }) %>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
</main>

<%- include('../partials/footer') %>
